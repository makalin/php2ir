# Copyright 2025 Mehmet T. AKALIN
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# php2ir Makefile Configuration
# Copy this to Makefile.config and customize for your environment

# Build backend: 'rust' or 'cpp'
BUILD_BACKEND = rust

# LLVM installation prefix
# macOS (Homebrew): /usr/local/opt/llvm
# Linux (apt): /usr
# Windows (MSVC): C:/Program Files/LLVM
LLVM_PREFIX = /usr/local/opt/llvm

# Default optimization level: O0, O1, O2, O3, Oz
DEFAULT_OPTS = O2

# Rust toolchain (if using Rust backend)
RUST_TOOLCHAIN = stable

# Additional LLVM flags
LLVM_FLAGS = -fexperimental-new-pass-manager

# Runtime library configuration
RUNTIME_GC = arc
RUNTIME_SSO_THRESHOLD = 23
RUNTIME_HASH_POLICY = robin_hood

# Cross-compilation targets
CROSS_TARGETS = x86_64-unknown-linux-gnu x86_64-apple-darwin x86_64-pc-windows-gnu

# Test configuration
TEST_TIMEOUT = 30
TEST_PARALLEL = 4

# Benchmark configuration
BENCH_ITERATIONS = 1000
BENCH_WARMUP = 100
